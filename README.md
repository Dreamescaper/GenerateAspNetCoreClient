
[![Nuget](https://img.shields.io/nuget/v/GenerateAspNetCoreClient.Refit)](https://www.nuget.org/packages/GenerateAspNetCoreClient.Refit/)

# GenerateAspNetCoreClient
DotNet tool to generate [Refit](https://github.com/reactiveui/refit) HTTP client types from ASP.NET Core api controllers.

## Prerequisites
Tool requires .NET 6 runtime installed, and it supports projects with ASP.NET Core 6, 5, 3.1.


## Usage
Install dotnet tool from Nuget:

`dotnet tool install GenerateAspNetCoreClient.Refit -g`

Then execute the following in directory with your Web project:

`dotnet-generate-client MyApiProjectPath -o OutPath -n My.Client.Namespace`

Tool will generate Refit interfaces based on endpoints defined in your project. Note that only .cs files are created, you still need to add project file, with project references for models (if any), and [Refit](https://www.nuget.org/packages/Refit/) package reference.

## Examples
Based on the following controller:
```csharp
    [ApiController]
    [Route("[controller]")]
    public class WeatherForecastController : ControllerBase
    {
        [HttpGet]
        public async Task<ActionResult<IEnumerable<WeatherForecast>>> Get()
        {...
        }
        
        [HttpGet("{id}")]
        public async Task<WeatherForecast> Get(Guid id)
        {...
        }
    }
```

`IWeatherForecastApi.cs` file is created:
```csharp
//<auto-generated />

using System;
using System.Collections.Generic;
using System.Threading.Tasks;
using Refit;
using TestWebApi.Models;

namespace Test.Name.Space
{
    public interface IWeatherForecastApi
    {
        [Get("/WeatherForecast")]
        Task<IEnumerable<WeatherForecast>> Get();

        [Get("/WeatherForecast/{id}")]
        Task<WeatherForecast> Get(Guid id);
    }
}
```
